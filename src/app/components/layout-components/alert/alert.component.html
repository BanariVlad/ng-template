<ng-container *ngIf="alerts$ | async as alerts">
  <div @alertLeave *ngIf="alerts.length" class="relative">
    <div
      @alertLeave
      *ngFor="let alert of alerts.reverse(); index as index; key: 'index'"
      class="fixed app-alert shadow-xl"
      [style.background-color]="settings[alert.type].color"
    >
      <mat-icon>{{ settings[alert.type].icon }}</mat-icon>
      <span class="alert-text">{{ alert.text }}</span>
      <button
        matTooltip="Skip this notification"
        class="next-alert"
        mat-icon-button
        (click)="skipAlert()"
      >
        <mat-icon>arrow_forward</mat-icon>
      </button>
      <mat-progress-bar
        color="primary"
        *ngIf="index === alerts.reverse().length - 1 && loading"
        [value]="loading"
      ></mat-progress-bar>
    </div>
  </div>
</ng-container>
